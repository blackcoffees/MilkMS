<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cy.milkms.db.dao.MilkMapper">
	<resultMap id="baseResultMap" type="com.cy.milkms.db.entity.Milk">
		<id column="ID" property="ID" jdbcType="VARCHAR"/>
		<result column="milk_name" property="milk_name" jdbcType="VARCHAR"/>
		<result column="specifications" property="specifications"  jdbcType="VARCHAR"/>
		<result column="purchase_price" property="purchase_price"  jdbcType="DOUBLE"/>
		<result column="selling_price" property="selling_price" jdbcType="DOUBLE"/>
	</resultMap>
	
	<select id="get_milk_condition" resultMap="baseResultMap">
		select * from milk 
		<where>
			<if test="milkName != '' and milkName != null">
				milk_name like '%${milkName}%' 
			</if>
		</where>
		limit #{pager.start}, #{pager.rows}
	</select>
	
	<select id="get_milk_condition_count" resultType="int">
		select * from milk 
		<where>
			<if test="milkName != '' and milkName != null">
				milk_name like '%${milkName}%' 
			</if>
		</where>
	</select>
</mapper>

